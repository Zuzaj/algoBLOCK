function (TOK_FUNC)
MERGE (TOK_VAR)
( (TOK_ARG_L)
A (TOK_VAR)
, (TOK_COM)
left (TOK_VAR)
, (TOK_COM)
mid (TOK_VAR)
, (TOK_COM)
right (TOK_VAR)
) (TOK_ARG_R)
* (TOK_EL)
C (TOK_VAR)
= (TOK_ASSIGN)
[ (TOK_TAB_L)
] (TOK_TAB_R)
for (TOK_FOR)
i (TOK_VAR)
= (TOK_ASSIGN)
left (TOK_VAR)
to (TOK_TO)
right (TOK_VAR)
do (TOK_DO)
-> (TOK_ARROW_L)
* (TOK_EL)
C (TOK_VAR)
[ (TOK_TAB_L)
i (TOK_VAR)
] (TOK_TAB_R)
= (TOK_ASSIGN)
A (TOK_VAR)
[ (TOK_TAB_L)
i (TOK_VAR)
] (TOK_TAB_R)
>- (TOK_ARROW_R)
* (TOK_EL)
current (TOK_VAR)
= (TOK_ASSIGN)
left (TOK_VAR)
* (TOK_EL)
leftIndex (TOK_VAR)
= (TOK_ASSIGN)
left (TOK_VAR)
* (TOK_EL)
rightIndex (TOK_VAR)
= (TOK_ASSIGN)
mid (TOK_VAR)
+ (TOK_PLUS)
1 (TOK_NUM)
while (TOK_WHILE)
leftIndex (TOK_VAR)
<= (TOK_SMALLER_EQ)
mid (TOK_VAR)
and (TOK_AND)
rightIndex (TOK_VAR)
<= (TOK_SMALLER_EQ)
right (TOK_VAR)
do (TOK_DO)
-> (TOK_ARROW_L)
if (TOK_IF)
C (TOK_VAR)
[ (TOK_TAB_L)
leftIndex (TOK_VAR)
] (TOK_TAB_R)
<= (TOK_SMALLER_EQ)
C (TOK_VAR)
[ (TOK_TAB_L)
rightIndex (TOK_VAR)
] (TOK_TAB_R)
then (TOK_THEN)
-> (TOK_ARROW_L)
* (TOK_EL)
A (TOK_VAR)
[ (TOK_TAB_L)
current (TOK_VAR)
] (TOK_TAB_R)
= (TOK_ASSIGN)
C (TOK_VAR)
[ (TOK_TAB_L)
leftIndex (TOK_VAR)
] (TOK_TAB_R)
* (TOK_EL)
leftIndex (TOK_VAR)
= (TOK_ASSIGN)
leftIndex (TOK_VAR)
+ (TOK_PLUS)
1 (TOK_NUM)
>- (TOK_ARROW_R)
else (TOK_ELSE)
-> (TOK_ARROW_L)
* (TOK_EL)
A (TOK_VAR)
[ (TOK_TAB_L)
current (TOK_VAR)
] (TOK_TAB_R)
= (TOK_ASSIGN)
C (TOK_VAR)
[ (TOK_TAB_L)
rightIndex (TOK_VAR)
] (TOK_TAB_R)
* (TOK_EL)
rightIndex (TOK_VAR)
= (TOK_ASSIGN)
rightIndex (TOK_VAR)
+ (TOK_PLUS)
1 (TOK_NUM)
>- (TOK_ARROW_R)
* (TOK_EL)
current (TOK_VAR)
= (TOK_ASSIGN)
current (TOK_VAR)
+ (TOK_PLUS)
1 (TOK_NUM)
>- (TOK_ARROW_R)
while (TOK_WHILE)
leftIndex (TOK_VAR)
<= (TOK_SMALLER_EQ)
mid (TOK_VAR)
do (TOK_DO)
-> (TOK_ARROW_L)
* (TOK_EL)
A (TOK_VAR)
[ (TOK_TAB_L)
current (TOK_VAR)
] (TOK_TAB_R)
= (TOK_ASSIGN)
C (TOK_VAR)
[ (TOK_TAB_L)
leftIndex (TOK_VAR)
] (TOK_TAB_R)
* (TOK_EL)
leftIndex (TOK_VAR)
= (TOK_ASSIGN)
leftIndex (TOK_VAR)
+ (TOK_PLUS)
1 (TOK_NUM)
* (TOK_EL)
current (TOK_VAR)
= (TOK_ASSIGN)
current (TOK_VAR)
+ (TOK_PLUS)
1 (TOK_NUM)
>- (TOK_ARROW_R)
while (TOK_WHILE)
rightIndex (TOK_VAR)
<= (TOK_SMALLER_EQ)
right (TOK_VAR)
do (TOK_DO)
-> (TOK_ARROW_L)
* (TOK_EL)
A (TOK_VAR)
[ (TOK_TAB_L)
current (TOK_VAR)
] (TOK_TAB_R)
= (TOK_ASSIGN)
C (TOK_VAR)
[ (TOK_TAB_L)
rightIndex (TOK_VAR)
] (TOK_TAB_R)
* (TOK_EL)
rightIndex (TOK_VAR)
= (TOK_ASSIGN)
rightIndex (TOK_VAR)
+ (TOK_PLUS)
1 (TOK_NUM)
* (TOK_EL)
current (TOK_VAR)
= (TOK_ASSIGN)
current (TOK_VAR)
+ (TOK_PLUS)
1 (TOK_NUM)
>- (TOK_ARROW_R)
endfunction (TOK_END_FUNC)